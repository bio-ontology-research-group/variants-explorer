<div class="card mb-4 wow fadeIn mt-2">
<div class="card-body">
    <h4 class="font-weight-bold pb-3"><a routerLink="help" class="text-muted">Results <i class="fas fa-info-circle"></i></a></h4>
    <button type="button" class="btn btn-green" (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed"
        aria-controls="collapseExample">
        Job Details <i class="fa" [ngClass]="{'fa-plus': isCollapsed, 'fa-minus': !isCollapsed}"></i>
    </button>
    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
        <div class="row p-3">
            <table class="table table-sm table-striped col-6">
            <tbody>
                <tr>
                <th scope="row">Name</th>
                <td>{{job.name}}</td>
                </tr>
                <tr>
                <th scope="row">Assembly</th>
                <td>{{job.assembly}}</td>
                </tr>
                <tr>
                <th scope="row">Status</th>
                <td><span class="badge " [ngClass]="{'badge-success':job.status == 'Done', 'badge-secondary':job.status == 'Queued', 'badge-danger':job.status == 'Failed'}">{{job.status}}</span></td>
                </tr>
                <tr>
                <th scope="row">Submitted at</th>
                <td>{{job.submitted_at}}</td>
                </tr>
            </tbody>
            </table>
        </div>
    </div>
    <div class="row p-3">
        <div class="col-12"><h5 class="font-weight-bold pb-3">Result Preview</h5></div>
        <table class="table table-sm table-striped table-responsive">
        <thead class="thead-light">
            <tr>
            <th scope="col">Uploaded Variant</th>
            <th scope="col">Location</th>
            <th scope="col">Allele</th>
            <th scope="col">Consequence</th>
            <th scope="col">Symbol</th>
            <th scope="col">Gene</th>
            <th scope="col">Feature type</th>
            <th scope="col">Feature</th>														
            <th scope="col">cDNA_position</th>
            <th scope="col">CDS_position</th>
            <th scope="col">Protein_position</th>
            <th scope="col">Amino_acids</th>
            <th scope="col">Codons</th>
            <th scope="col">Existing_variation</th>
            <th scope="col">IMPACT</th>
            <th scope="col">DISTANCE</th>
            <th scope="col">STRAND</th>
            <th scope="col">FLAGS</th>
            <th scope="col">SYMBOL</th>
            <th scope="col">SYMBOL_SOURCE</th>
            <th scope="col">HGNC_ID</th>
            <th scope="col">ENSP</th>
            <th scope="col">SWISSPROT</th>
            <th scope="col">TREMBL</th>
            <th scope="col">UNIPARC</th>
            <th scope="col">UNIPROT_ISOFORM</th>
            <th scope="col">SOURCE</th>
            <th scope="col">SIFT</th>
            <th scope="col">PolyPhen</th>
            <th scope="col">HGVSc</th>
            <th scope="col">HGVSp</th>
            <th scope="col">HGVS_OFFSET</th>
            <th scope="col">AF</th>
            <th scope="col">gnomAD_AF</th>
            <th scope="col">gnomAD_AFR_AF</th>
            <th scope="col">gnomAD_AMR_AF</th>
            <th scope="col">gnomAD_ASJ_AF</th>
            <th scope="col">gnomAD_EAS_AF</th>
            <th scope="col">gnomAD_FIN_AF</th>
            <th scope="col">gnomAD_NFE_AF</th>
            <th scope="col">gnomAD_OTH_AF</th>
            <th scope="col">gnomAD_SAS_AF</th>
            <th scope="col">CLIN_SIG</th>
            <th scope="col">SOMATIC</th>
            <th scope="col">PUBMED</th>
            <th scope="col">PHENO</th>
            <th scope="col">GO_CLASSES</th>
            <th scope="col">PHENOTYPE</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let entry of variantRecords; let outIndex = index">
                <th scope="row">{{entry['#Uploaded_variation']}}</th>
                <td>{{entry.Location}}</td>
                <td>{{entry.Allele}}</td>
                <td>{{entry.Consequence}}</td>
                <td>{{entry.SYMBOL}}</td>
                <td>{{entry.Gene}}</td>
                <td>{{entry.Feature_type}}</td>
                <td>{{entry.Feature}}</td>														
                <td>{{entry.cDNA_position}}</td>
                <td>{{entry.CDS_position}}</td>
                <td>{{entry.Protein_position}}</td>
                <td>{{entry.Amino_acids}}</td>
                <td>{{entry.Codons}}</td>
                <td>{{entry.Existing_variation}}</td>
                <td>{{entry.IMPACT}}</td>
                <td>{{entry.DISTANCE}}</td>
                <td>{{entry.STRAND}}</td>
                <td>{{entry.FLAGS}}</td>
                <td>{{entry.SYMBOL}}</td>
                <td>{{entry.SYMBOL_SOURCE}}</td>
                <td>{{entry.HGNC_ID}}</td>
                <td>{{entry.ENSP}}</td>
                <td>{{entry.SWISSPROT}}</td>
                <td>{{entry.TREMBL}}</td>
                <td>{{entry.UNIPARC}}</td>
                <td>{{entry.UNIPROT_ISOFORM}}</td>
                <td>{{entry.SOURCE}}</td>
                <td>{{entry.SIFT}}</td>
                <td>{{entry.PolyPhen}}</td>
                <td>{{entry.HGVSc}}</td>
                <td>{{entry.HGVSp}}</td>
                <td>{{entry.HGVS_OFFSET}}</td>
                <td>{{entry.AF}}</td>
                <td>{{entry.gnomAD_AF}}</td>
                <td>{{entry.gnomAD_AFR_AF}}</td>
                <td>{{entry.gnomAD_AMR_AF}}</td>
                <td>{{entry.gnomAD_ASJ_AF}}</td>
                <td>{{entry.gnomAD_EAS_AF}}</td>
                <td>{{entry.gnomAD_FIN_AF}}</td>
                <td>{{entry.gnomAD_NFE_AF}}</td>
                <td>{{entry.gnomAD_OTH_AF}}</td>
                <td>{{entry.gnomAD_SAS_AF}}</td>
                <td>{{entry.CLIN_SIG}}</td>
                <td>{{entry.SOMATIC}}</td>
                <td>{{entry.PHENO}}</td>
                <td>{{entry.PUBMED}}</td>
                <td>{{entry.GO_CLASSES.split('__').join()}}</td>
                <td>{{entry.PHENOTYPE}}</td>
            </tr>
        </tbody>
        </table>
        <div class="d-flex justify-content-between p-2">
            <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [pageSize]="pageSize" [rotate]="true" 
                [maxSize]="5" (pageChange)="loadPage($event)">
            </ngb-pagination>
        </div>
    </div>
</div>
</div>
